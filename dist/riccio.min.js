/*!
 * Riccio - v1.0.6
 * Adaptive grid view with expanding info box.
 */
!function(){"use strict";function e(e,t){var i;for(i in t)e.hasOwnProperty(i)&&(e[i]=t[i]);return e}function t(e){var t=getComputedStyle(e,":before"),i=t.getPropertyValue("content");return"none"===i?3:parseInt(i.slice(1,-1),10)}function i(e,t){for(var i,r;t--;)i=document.createElement("div"),r=document.createElement("div"),i.classList.add("riccio__row-item"),r.classList.add("riccio__row-pop"),e.appendChild(i),e.appendChild(r);return e}function r(e,t){for(t*=2;t--;)e.removeChild(e.lastChild);return e}function n(e,t){e.classList.contains("riccio__item--active")?e.classList.remove("riccio__item--active"):(t&&t.classList.remove("riccio__item--active"),e.classList.add("riccio__item--active"))}function o(e,t){e.classList.contains("riccio__pop--active")?e.classList.remove("riccio__pop--active"):(t&&t.classList.remove("riccio__pop--active"),e.classList.add("riccio__pop--active"))}function c(e,t){var i=e.querySelector(".riccio__pop--active");i?t&&e!==t?(t.classList.remove("riccio__row-pop--active"),e.classList.add("riccio__row-pop--active")):e.classList.add("riccio__row-pop--active"):e.classList.remove("riccio__row-pop--active")}function s(e,t){for(var i=!1;e!==t;){if(e.hasAttribute("data-riccio"))return e.getAttribute("data-riccio");e=e.parentElement}return i}function a(e){for(var t=e.length;t--;)f.push(window.matchMedia(e[t]));return f}function l(e){if(!e)return!1;if(Array.isArray(e))return a(e);for(var t=document.styleSheets,i=t.length,r=0,n=0;i--;){try{r=t[i].cssRules}catch(o){r=0}for(n=r?r.length:0;n--;)r[n].constructor===CSSMediaRule&&f.push(window.matchMedia(r[n].media.mediaText))}return f=u(f)}function u(e){for(var t={},i=[],r=e.length;r--;)"undefined"==typeof t[e[r].media]&&i.push(e[r]),t[e[r].media]=0;return i}function d(e){return e?0>e?-1:1:0}function h(e){e.element.addEventListener("click",function(t){var i=s(t.target,t.currentTarget);i&&e.toggle(i)})}function p(e){function i(){var i=t(e.element);e.options.perRow!==i&&(e.options.perRow=i,e.init())}if(e.options.mediaQueries)for(var r=e.options.mediaQueries.length;r--;)e.options.mediaQueries[r].addListener(i)}var m=window.console,f=[];window.Riccio=function(i,r){if(i.nodeType!==Node.ELEMENT_NODE)return void(m&&m.error("Riccio: the given element is not valid.",i));this.element=i;var n={itemSelector:"",popSelector:"",perRow:3,mediaQueries:!0};arguments[1]&&"object"==typeof arguments&&(this.options=e(n,arguments[1])),this.options.perRow=t(this.element);var o=this.element.querySelectorAll(this.options.itemSelector),c=this.element.querySelectorAll(this.options.popSelector);return o.length!==c.length?void(m&&m.error("Riccio: items number and pops number doesn't match.")):(this.itemStore=o,this.popStore=c,this.init(),h(this),f.length?this.options.mediaQueries=f:this.options.mediaQueries=l(this.options.mediaQueries),void p(this))},Riccio.prototype.init=function(){this.element.classList.add("riccio");var e=document.createDocumentFragment(),t=this.element.querySelector(".riccio__pop--active"),i=this.element.querySelector(".riccio__row-pop--active");e=this.setRows(e),e=this.setItems(e),this.element.appendChild(e),t&&c(t.parentElement,i)},Riccio.prototype.needs=function(){var e=this.element.querySelectorAll(this.options.itemSelector).length;return{having:this.element.querySelectorAll(".riccio__row-item").length,needed:Math.ceil(e/this.options.perRow)}},Riccio.prototype.setItems=function(e){for(var t=e.querySelectorAll(".riccio__row-item"),i=e.querySelectorAll(".riccio__row-pop"),r=this.itemStore.length,n=0,o=0;r>n;){this.itemStore[n].setAttribute("data-riccio",n),this.itemStore[n].classList.add("riccio__item"),this.popStore[n].classList.add("riccio__pop"),t[o].appendChild(this.itemStore[n]),i[o].appendChild(this.popStore[n]),n++;var c=n%this.options.perRow;c||o++}return e},Riccio.prototype.setRows=function(e){var t=this.needs(),n=t.needed-t.having;if(t.having)for(var o=this.element.querySelectorAll(".riccio__row-item, .riccio__row-pop"),c=o.length,s=0;c>s;s++)e.appendChild(o[s]);return n&&(-1===d(n)?(n*=-1,e=r(e,n)):e=i(e,n)),e},Riccio.prototype.toggle=function(e){var t=this.element.querySelector(".riccio__pop--active"),i=this.element.querySelector(".riccio__item--active"),r=this.element.querySelector(".riccio__row-pop--active");n(this.itemStore[e],i),o(this.popStore[e],t),c(this.popStore[e].parentElement,r)}}(),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,r=arguments.length;for(i=0;r>i;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}e=null}():!function(e){"use strict";if("Element"in e){var t="classList",i="prototype",r=e.Element[i],n=Object,o=String[i].trim||function(){return this.replace(/^\s+|\s+$/g,"")},c=Array[i].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return c.call(e,t)},l=function(e){for(var t=o.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],r=0,n=i.length;n>r;r++)this.push(i[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=l[i]=[],d=function(){return new l(this)};if(s[i]=Error[i],u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==a(this,e)},u.add=function(){var e,t=arguments,i=0,r=t.length,n=!1;do e=t[i]+"",-1===a(this,e)&&(this.push(e),n=!0);while(++i<r);n&&this._updateClassName()},u.remove=function(){var e,t,i=arguments,r=0,n=i.length,o=!1;do for(e=i[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e);while(++r<n);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var i=this.contains(e),r=i?t!==!0&&"remove":t!==!1&&"add";return r&&this[r](e),t===!0||t===!1?t:!i},u.toString=function(){return this.join(" ")},n.defineProperty){var h={get:d,enumerable:!0,configurable:!0};try{n.defineProperty(r,t,h)}catch(p){-2146823252===p.number&&(h.enumerable=!1,n.defineProperty(r,t,h))}}else n[i].__defineGetter__&&r.__defineGetter__(t,d)}}(self)),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,r=0,n=[],o=function(t){clearTimeout(r),r=setTimeout(function(){for(var t=0,i=n.length;i>t;t++){var r=n[t].mql,o=n[t].listeners||[],c=e(r.media).matches;if(c!==r.matches){r.matches=c;for(var s=0,a=o.length;a>s;s++)o[s].call(window,r)}}},30)};window.matchMedia=function(r){var c=e(r),s=[],a=0;return c.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",o,!0)),0===a&&(a=n.push({mql:c,listeners:s})),s.push(e))},c.removeListener=function(e){for(var t=0,i=s.length;i>t;t++)s[t]===e&&s.splice(t,1)},c}}();