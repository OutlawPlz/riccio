/**
 * Riccio - v1.1.0
 * Adaptive grid view with expanding info box.
 * By OutlawPlz, license GPL-3.0.
 * https://github.com/OutlawPlz/riccio.git
 */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var i,o=arguments.length;for(i=0;i<o;i++)e=arguments[i],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}e=null}():function(e){"use strict";if("Element"in e){var t=e.Element.prototype,i=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},n=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new n("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new n("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},s=function(e){for(var t=o.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],r=0,n=i.length;r<n;r++)this.push(i[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},a=s.prototype=[],l=function(){return new s(this)};if(n.prototype=Error.prototype,a.item=function(e){return this[e]||null},a.contains=function(e){return e+="",c(this,e)!==-1},a.add=function(){var e,t=arguments,i=0,o=t.length,r=!1;do{e=t[i]+"",c(this,e)===-1&&(this.push(e),r=!0)}while(++i<o);r&&this._updateClassName()},a.remove=function(){var e,t,i=arguments,o=0,r=i.length,n=!1;do{for(e=i[o]+"",t=c(this,e);t!==-1;)this.splice(t,1),n=!0,t=c(this,e)}while(++o<r);n&&this._updateClassName()},a.toggle=function(e,t){e+="";var i=this.contains(e),o=i?t!==!0&&"remove":t!==!1&&"add";return o&&this[o](e),t===!0||t===!1?t:!i},a.toString=function(){return this.join(" ")},i.defineProperty){var p={get:l,enumerable:!0,configurable:!0};try{i.defineProperty(t,"classList",p)}catch(e){e.number===-2146823252&&(p.enumerable=!1,i.defineProperty(t,"classList",p))}}else i.prototype.__defineGetter__&&t.__defineGetter__("classList",l)}}(self)),/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */
window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),i=document.getElementsByTagName("script")[0],o=null;t.type="text/css",t.id="matchmediajs-test",i.parentNode.insertBefore(t,i),o="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var i="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=i:t.textContent=i,"1px"===o.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */
function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,i=!1,o=0,r=[],n=function(t){clearTimeout(o),o=setTimeout(function(){for(var t=0,i=r.length;t<i;t++){var o=r[t].mql,n=r[t].listeners||[],c=e(o.media).matches;if(c!==o.matches){o.matches=c;for(var s=0,a=n.length;s<a;s++)n[s].call(window,o)}}},30)};window.matchMedia=function(o){var c=e(o),s=[],a=0;return c.addListener=function(e){t&&(i||(i=!0,window.addEventListener("resize",n,!0)),0===a&&(a=r.push({mql:c,listeners:s})),s.push(e))},c.removeListener=function(e){for(var t=0,i=s.length;t<i;t++)s[t]===e&&s.splice(t,1)},c}}(),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Riccio=t()}(window,function(){"use strict";function e(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return void(_&&_.error("Riccio: the given element is not valid.",e));this.element=e;var i={itemSelector:"",popSelector:"",perRow:!0,mediaQueries:!0};t&&"object"==typeof t&&(this.options=r(i,t)),this.options.perRow&&"boolean"==typeof this.options.perRow&&(this.options.perRow=n(this.element));var o=this.element.querySelectorAll(this.options.itemSelector),c=this.element.querySelectorAll(this.options.popSelector);if(o.length!==c.length)return void(_&&_.error("Riccio: items number and pops number doesn't match."));this.itemStore=o,this.popStore=c,this.init()}function t(e,t,i){var o=e.querySelectorAll(t).length;return{having:e.querySelectorAll(".riccio__row-item").length,needed:Math.ceil(o/i)}}function i(e,t,i){var o=t.needed-t.having;if(t.having)for(var r=e.querySelectorAll(".riccio__row-item, .riccio__row-pop"),n=r.length,a=0;a<n;a++)i.appendChild(r[a]);return o&&(m(o)===-1?(o*=-1,i=s(i,o)):i=c(i,o)),i}function o(e,t,i,o){for(var r=e.querySelectorAll(".riccio__row-item"),n=e.querySelectorAll(".riccio__row-pop"),c=t.length,s=0,a=0;s<c;){t[s].setAttribute("data-riccio-index",s),t[s].classList.add("riccio__item"),i[s].classList.add("riccio__pop"),r[a].appendChild(t[s]),n[a].appendChild(i[s]),s++;s%o||a++}return e}function r(e,t){var i;for(i in t)e.hasOwnProperty(i)&&(e[i]=t[i]);return e}function n(e){var t=getComputedStyle(e,":before"),i=t.getPropertyValue("content");return"none"===i?1:parseInt(i.slice(1,-1),10)}function c(e,t){for(var i,o;t--;)i=document.createElement("div"),o=document.createElement("div"),i.classList.add("riccio__row-item"),o.classList.add("riccio__row-pop"),e.appendChild(i),e.appendChild(o);return e}function s(e,t){for(t*=2;t--;)e.removeChild(e.lastChild);return e}function a(e,t){e.classList.contains("riccio__item--active")?e.classList.remove("riccio__item--active"):(t&&t.classList.remove("riccio__item--active"),e.classList.add("riccio__item--active"))}function l(e,t){e.classList.contains("riccio__pop--active")?e.classList.remove("riccio__pop--active"):(t&&t.classList.remove("riccio__pop--active"),e.classList.add("riccio__pop--active"))}function p(e,t){e.querySelector(".riccio__pop--active")?t&&e!==t?(t.classList.remove("riccio__row-pop--active"),e.classList.add("riccio__row-pop--active")):e.classList.add("riccio__row-pop--active"):e.classList.remove("riccio__row-pop--active")}function u(e,t){for(;e!==t;){if(e.hasAttribute("data-riccio-index"))return e.getAttribute("data-riccio-index");e=e.parentNode}return!1}function d(e){if(Object.keys(w).length||h(),e instanceof Array)for(var t,i=e.length;i--,t=e[i];)w.hasOwnProperty(t)||(w[t]=window.matchMedia(t))}function h(){for(var e,t=document.styleSheets.length;t--,e=document.styleSheets[t];){try{e.cssRules.length}catch(e){continue}for(var i,o=e.cssRules.length;o--,i=e.cssRules[o];)i.constructor!==CSSMediaRule||w[i.media.mediaText]||(w[i.media.mediaText]=window.matchMedia(i.media))}}function m(e){return e?e<0?-1:1:0}function f(e){return function(t){var i=u(t.target,t.currentTarget);i&&e.toggle(i)}}function v(e){if(e.matches)for(var t,i=g.length;i--,t=g[i];){if(!t.options.mediaQueries)return;var o=n(t.element);t.options.perRow!==o&&(t.options.perRow=o,t.buildLayout())}}var _=window.console,w={},g=[];e.prototype.init=function(){this.element.classList.add("riccio"),this.options.mediaQueries&&d(this.options.mediaQueries),this.element.addEventListener("click",f(this));for(var e in w)w[e].addListener(v);g.push(this),this.buildLayout()},e.prototype.buildLayout=function(){var e=document.createDocumentFragment(),r=this.element.querySelector(".riccio__pop--active"),n=this.element.querySelector(".riccio__row-pop--active"),c=t(this.element,this.options.itemSelector,this.options.perRow);e=i(this.element,c,e),e=o(e,this.itemStore,this.popStore,this.options.perRow),this.element.appendChild(e),r&&p(r.parentElement,n)},e.prototype.needs=function(){var e=this.element.querySelectorAll(this.options.itemSelector).length;return{having:this.element.querySelectorAll(".riccio__row-item").length,needed:Math.ceil(e/this.options.perRow)}},e.prototype.setItems=function(e){for(var t=e.querySelectorAll(".riccio__row-item"),i=e.querySelectorAll(".riccio__row-pop"),o=this.itemStore.length,r=0,n=0;r<o;){this.itemStore[r].setAttribute("data-riccio-index",r),this.itemStore[r].classList.add("riccio__item"),this.popStore[r].classList.add("riccio__pop"),t[n].appendChild(this.itemStore[r]),i[n].appendChild(this.popStore[r]),r++;r%this.options.perRow||n++}return e},e.prototype.setRows=function(e){var t=this.needs(),i=t.needed-t.having;if(t.having)for(var o=this.element.querySelectorAll(".riccio__row-item, .riccio__row-pop"),r=o.length,n=0;n<r;n++)e.appendChild(o[n]);return i&&(m(i)===-1?(i*=-1,e=s(e,i)):e=c(e,i)),e},e.prototype.toggle=function(e){var t=this.element.querySelector(".riccio__pop--active"),i=this.element.querySelector(".riccio__item--active"),o=this.element.querySelector(".riccio__row-pop--active");a(this.itemStore[e],i),l(this.popStore[e],t),p(this.popStore[e].parentElement,o)},e.prototype.isInitialized=function(e){for(var t,i=g.length;i--,t=g[i];)if(e===t)return!0;return!1},e.prototype.getStore=function(){return g},e.prototype.getInstance=function(e){for(var t,i=g.length;i--,t=g[i];)if(t.element===e)return t};for(var y,S=document.querySelectorAll("[data-riccio]"),L=S.length;L--,y=S[L];)new e(y,JSON.parse(y.getAttribute("data-riccio")));return e});